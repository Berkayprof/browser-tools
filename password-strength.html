<!DOCTYPE html>
<html lang="nl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Password Strength Checker</title>

<!-- zxcvbn (Dropbox) -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/zxcvbn/4.4.2/zxcvbn.js"></script>

<style>
:root{
  --bg:#f5f7fa;--text:#1a1a1a;--card-bg:rgba(255,255,255,.55);
  --accent:#4a8bff;--shadow:rgba(0,0,0,.15);--blur:18px;
}
:root.dark{
  --bg:#0f1115;--text:#f1f1f1;--card-bg:rgba(30,32,38,.55);
  --accent:#6aa0ff;--shadow:rgba(0,0,0,.6);
}
body{
  background:var(--bg);color:var(--text);font-family:"Segoe UI",sans-serif;
  min-height:100vh;display:flex;justify-content:center;align-items:center;padding:20px;
}
.box{
  max-width:480px;width:100%;background:var(--card-bg);backdrop-filter:blur(var(--blur));
  padding:30px;border-radius:20px;box-shadow:0 8px 30px var(--shadow);
}
input{
  width:100%;padding:12px;border-radius:10px;border:none;font-size:1rem;margin-bottom:10px;
}
.bar{height:10px;border-radius:10px;background:#ddd;overflow:hidden;margin-top:5px;}
.bar-inner{height:100%;width:0;background:red;transition:.3s;}
.msg{margin-top:10px;font-weight:600;}
.sub{font-size:.85rem;opacity:.85;margin-top:4px;}
.tips{margin-top:12px;font-size:.85rem;opacity:.9;}
</style>
</head>

<body>
<div class="box">
  <h1>ðŸ§± Password Strength Checker</h1>
  <input type="password" id="pwd" placeholder="Voer een wachtwoord in..." oninput="check()">
  <div class="bar"><div class="bar-inner" id="bar"></div></div>
  <div class="msg" id="msg"></div>
  <div class="sub" id="entropy"></div>
  <div class="sub" id="time"></div>
  <div class="tips" id="tips"></div>
</div>

<script>
function check(){
  const val = document.getElementById("pwd").value;
  const bar = document.getElementById("bar");
  const msg = document.getElementById("msg");
  const entropyBox = document.getElementById("entropy");
  const timeBox = document.getElementById("time");
  const tipsBox = document.getElementById("tips");

  if(!val){
    bar.style.width="0%";
    msg.textContent="";
    entropyBox.textContent="";
    timeBox.textContent="";
    tipsBox.textContent="";
    return;
  }

  // Analyse via zxcvbn
  const result = zxcvbn(val);

  // Score 0â€“4
  const score = result.score;
  const entropy = Math.round(result.entropy);
  const crack = result.crack_times_display.offline_fast_hashing_1e10_per_second;

  // Sterkte tekst + kleur
  const labels = ["Zeer zwak","Zwak","Gemiddeld","Sterk","Zeer sterk"];
  const colors = ["red","orangered","orange","green","limegreen"];

  bar.style.width = (score+1)*20 + "%";
  bar.style.background = colors[score];
  msg.textContent = labels[score];

  entropyBox.textContent = `Entropie: ${entropy} bits`;
  timeBox.textContent = `Geschatte kraaktijd: ${crack}`;

  // Tips
  if(result.feedback.suggestions.length > 0){
    tipsBox.innerHTML = "Tips:<br>â€¢ " + result.feedback.suggestions.join("<br>â€¢ ");
  } else {
    tipsBox.textContent = "";
  }
}

// Dark mode meenemen
if(localStorage.getItem("theme")==="dark"){
  document.documentElement.classList.add("dark");
}
</script>
</body>
</html>
