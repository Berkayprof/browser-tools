<!DOCTYPE html>
<html lang="nl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Password Strength Checker</title>

<!-- zxcvbn (Dropbox) -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/zxcvbn/4.4.2/zxcvbn.js"></script>

<style>
:root{
  --bg:#f5f7fa;--text:#1a1a1a;--card-bg:rgba(255,255,255,.55);
  --accent:#4a8bff;--shadow:rgba(0,0,0,.15);--blur:18px;
}
:root.dark{
  --bg:#0f1115;--text:#f1f1f1;--card-bg:rgba(30,32,38,.55);
  --accent:#6aa0ff;--shadow:rgba(0,0,0,.6);
}
body{
  background:var(--bg);color:var(--text);font-family:"Segoe UI",sans-serif;
  min-height:100vh;display:flex;justify-content:center;align-items:center;padding:20px;
}
.box{
  max-width:480px;width:100%;background:var(--card-bg);backdrop-filter:blur(var(--blur));
  padding:30px;border-radius:20px;box-shadow:0 8px 30px var(--shadow);
}
input{
  width:100%;padding:12px;border-radius:10px;border:none;font-size:1rem;margin-bottom:10px;
}
.bar{height:10px;border-radius:10px;background:#ddd;overflow:hidden;margin-top:5px;}
.bar-inner{height:100%;width:0;background:red;transition:.3s;}
.msg{margin-top:10px;font-weight:600;}
.sub{font-size:.85rem;opacity:.85;margin-top:4px;}
.tips{margin-top:12px;font-size:.85rem;opacity:.9;}
</style>
</head>

<body>
<div class="box">
  <h1>ðŸ§± Password Strength Checker</h1>
  <input type="password" id="pwd" placeholder="Voer een wachtwoord in..." oninput="check()">
  <div class="bar"><div class="bar-inner" id="bar"></div></div>
  <div class="msg" id="msg"></div>
  <div class="sub" id="entropy"></div>
  <div class="sub" id="time"></div>
  <div class="tips" id="tips"></div>
</div>

<script>
function check(){
  const val = document.getElementById("pwd").value;
  const bar = document.getElementById("bar");
  const msg = document.getElementById("msg");
  const entropyBox = document.getElementById("entropy");
  const timeBox = document.getElementById("time");
  const tipsBox = document.getElementById("tips");

  if(!val){
    bar.style.width="0%";
    msg.textContent="";
    entropyBox.textContent="";
    timeBox.textContent="";
    tipsBox.textContent="";
    return;
  }

  const result = zxcvbn(val);

  // âœ” Correcte entropie (bits)
  const entropy = result.guesses_log10 * 3.321928;

  // âœ” Bitwarden-style conservative attack speed
  const guesses = Math.pow(2, entropy);
  guessesPerSecond = 1e6 // 1.000.000/s (Bitwarden-achtig)
  const seconds = guesses / guessesPerSecond;

  // âœ” Bitwarden-style rounding
  function format(sec){
    if(sec < 1) return "minder dan 1 seconde";
    if(sec < 60) return "enkele seconden";
    if(sec < 3600) return Math.round(sec/60) + " minuten";
    if(sec < 86400) return Math.round(sec/3600) + " uur";
    if(sec < 31557600) return Math.round(sec/86400) + " dagen";
    if(sec < 31557600*10) return Math.round(sec/31557600) + " jaar";
    return "meer dan 10 jaar";
  }

  const crackTime = format(seconds);

  // âœ” Sterkte
  const score = result.score;
  const labels = ["Zeer zwak","Zwak","Gemiddeld","Sterk","Zeer sterk"];
  const colors = ["red","orangered","orange","green","limegreen"];

  bar.style.width = (score+1)*20 + "%";
  bar.style.background = colors[score];
  msg.textContent = labels[score];

  entropyBox.textContent = `Entropie: ${Math.round(entropy)} bits`;
  timeBox.textContent = `Geschatte kraaktijd: ${crackTime}`;

  // âœ” Tips
  const tips = [];

  if (val.length < 12) tips.push("Maak je wachtwoord minimaal 12â€“16 tekens lang.");
  if (!/[A-Z]/.test(val)) tips.push("Voeg minstens Ã©Ã©n hoofdletter toe.");
  if (!/[0-9]/.test(val)) tips.push("Voeg minstens Ã©Ã©n cijfer toe.");
  if (!/[^A-Za-z0-9]/.test(val)) tips.push("Voeg minstens Ã©Ã©n speciaal teken toe.");

  if (result.feedback.suggestions.length) {
    tips.push(...result.feedback.suggestions);
  }

  tipsBox.innerHTML = tips.length ? "Tips:<br>â€¢ " + tips.join("<br>â€¢ ") : "";
}


// Dark mode meenemen
if(localStorage.getItem("theme")==="dark"){
  document.documentElement.classList.add("dark");
}
</script>
</body>
</html>
