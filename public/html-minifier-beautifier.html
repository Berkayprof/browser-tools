<!DOCTYPE html>
<html lang="nl">
<head>
<meta charset="UTF-8">
<title>HTML Minifier & Beautifier</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
    body { font-family: system-ui, sans-serif; background:#e6e9ef; margin:0; padding:20px; }
    .wrapper { max-width: 1000px; margin: 0 auto; }
    h1 { margin-bottom: 10px; }
    .row { margin-bottom: 16px; }
    label { font-weight: 600; display:block; margin-bottom:6px; }
    textarea {
        width: 100%;
        padding: 10px;
        border-radius: 10px;
        border: none;
        background: #e6e9ef;
        box-shadow: 4px 4px 8px rgba(0,0,0,0.15),
                    -4px -4px 8px rgba(255,255,255,0.9);
        outline: none;
        font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
        font-size: 0.9rem;
        min-height: 160px;
        resize: vertical;
    }
    .buttons { display:flex; gap:10px; flex-wrap:wrap; margin-bottom:10px; }
    .btn {
        padding: 8px 14px;
        border-radius: 10px;
        border: none;
        cursor: pointer;
        background: #6a8dff;
        color: white;
        font-weight: 600;
        box-shadow: 4px 4px 8px rgba(0,0,0,0.25),
                    -4px -4px 8px rgba(255,255,255,0.7);
    }
    .btn.secondary {
        background: #7ed957;
    }
</style>
</head>
<body>
<div class="wrapper">
    <h1>HTML Minifier & Beautifier</h1>
    <p>Minimaliseer of formatteer je HTML-code.</p>

    <div class="row">
        <label for="inputHtml">HTML invoer</label>
        <textarea id="inputHtml" placeholder="Plak hier je HTML..."></textarea>
    </div>

    <div class="buttons">
        <button class="btn" id="minifyBtn">Minify</button>
        <button class="btn secondary" id="beautifyBtn">Beautify</button>
    </div>

    <div class="row">
        <label for="outputHtml">Resultaat</label>
        <textarea id="outputHtml" placeholder="Hier verschijnt het resultaat..."></textarea>
    </div>
</div>

<script>
    const inputHtml = document.getElementById("inputHtml");
    const outputHtml = document.getElementById("outputHtml");
    const minifyBtn = document.getElementById("minifyBtn");
    const beautifyBtn = document.getElementById("beautifyBtn");

    function minifyHtml(html) {
        return html
            .replace(/<!--[\s\S]*?-->/g, "")          // comments
            .replace(/\n+/g, " ")                     // newlines -> space
            .replace(/\s{2,}/g, " ")                  // multiple spaces
            .replace(/\s*(>|\<)\s*/g, "$1");          // trim around < >
    }

    function beautifyHtml(html) {
        // Zeer simpele beautifier: based on tags
        const tokens = html
            .replace(/>\s+</g, "><")
            .split(/(?=<)|(?<=>)/g)
            .filter(t => t.trim().length > 0);

        let indent = 0;
        const indentStr = "  ";
        let result = "";

        tokens.forEach(token => {
            const trimmed = token.trim();

            if (trimmed.startsWith("</")) {
                indent = Math.max(indent - 1, 0);
            }

            if (trimmed) {
                result += indentStr.repeat(indent) + trimmed + "\n";
            }

            if (trimmed.match(/^<[^\/!][^>]*[^\/]>$/)) {
                // opening tag that is not self-closing
                indent++;
            }
        });

        return result.trim();
    }

    minifyBtn.addEventListener("click", () => {
        const html = inputHtml.value;
        outputHtml.value = minifyHtml(html);
    });

    beautifyBtn.addEventListener("click", () => {
        const html = inputHtml.value;
        outputHtml.value = beautifyHtml(html);
    });
</script>
</body>
</html>
