<!DOCTYPE html>
<html lang="nl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Wheel Spinner (Winwheel)</title>

<style>
:root {
  --bg:#f5f7fa; --text:#1a1a1a; --card-bg:rgba(255,255,255,.55);
  --accent:#4a8bff; --accent-hover:#2f6ef0; --shadow:rgba(0,0,0,.15); --blur:18px;
}
body {
  background:var(--bg); color:var(--text); font-family:"Segoe UI",sans-serif;
  min-height:100vh; display:flex; justify-content:center; align-items:center; padding:20px;
}
.box {
  max-width:650px; width:100%; background:var(--card-bg); backdrop-filter:blur(var(--blur));
  padding:30px; border-radius:20px; box-shadow:0 8px 30px var(--shadow); text-align:center;
}
textarea {
  width:100%; height:80px; border-radius:10px; border:none; padding:10px; margin-bottom:10px;
}
button {
  padding:12px 20px; border-radius:10px; border:none; background:var(--accent); color:#fff;
  cursor:pointer; transition:.2s; margin:5px;
}
button:hover { background:var(--accent-hover); transform:translateY(-2px); }

#wheelCanvas {
  display:block;
  margin:20px auto;
  background:transparent;
}

.pointer {
  width:0; height:0;
  border-left:15px solid transparent;
  border-right:15px solid transparent;
  border-bottom:25px solid var(--accent);
  margin:0 auto;
}

.result {
  margin-top:15px; font-size:1.2rem; font-weight:700;
}
</style>
</head>

<body>

<div class="box">
  <h1>ðŸŽ¡ Wheel Spinner (Winwheel)</h1>

  <p>Voer opties in, gescheiden door komma's:</p>
  <textarea id="options">Optie 1, Optie 2, Optie 3, Optie 4</textarea>

  <button onclick="buildWheel()">Update wiel</button>
  <button onclick="startSpin()">Draai</button>

  <div class="pointer"></div>

  <canvas id="wheelCanvas" width="400" height="400"></canvas>

  <div class="result" id="result"></div>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/Winwheel.js/2.7.0/Winwheel.min.js"></script>

<script>
let wheel = null;
let spinning = false;

function buildWheel() {
  const raw = document.getElementById("options").value
    .split(",")
    .map(s => s.trim())
    .filter(Boolean);

  const items = raw.length ? raw : ["Optie 1", "Optie 2", "Optie 3"];

  const segments = items.map((text, i) => ({
    text,
    fillStyle: `hsl(${(i * 360) / items.length}, 70%, 50%)`,
    textFillStyle: "#fff",
    textFontFamily: "Segoe UI",
    textFontSize: 18
  }));

  wheel = new Winwheel({
    canvasId: "wheelCanvas",
    numSegments: segments.length,
    segments,
    outerRadius: 190,
    textAlignment: "outer",
    textMargin: 20,
    animation: {
      type: "spinToStop",
      duration: 5,
      spins: 10,
      callbackFinished: onFinished,
      easing: "Power4.easeOut"
    }
  });

  wheel.draw();
  document.getElementById("result").textContent = "";
}

function startSpin() {
  if (!wheel || spinning) return;
  spinning = true;
  document.getElementById("result").textContent = "";
  wheel.stopAnimation(false);
  wheel.rotationAngle = 0;
  wheel.draw();
  wheel.startAnimation();
}

function onFinished(indicatedSegment) {
  spinning = false;
  document.getElementById("result").textContent = "Gekozen: " + indicatedSegment.text;
}

buildWheel();
</script>

</body>
</html>
